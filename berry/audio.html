<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>音楽再生</title>
    <style>
        .border-radius {
            width: 300px;
            height: 100px;
            line-height: 100px;
            background-color: green;
            border-radius: 30px;
            color: #fff;
            text-align: center;
            margin: 20% auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="border-radius">
            <!-- 再生ボタン -->
            <button id="play">再生</button>
            <!-- 停止ボタン -->
            <button id="stop">停止</button>
            <label>
                <input type="checkbox" id="loop">ループ
            </label>
            <select name="interval" id="interval">
                <option>5</option>
                <option>10</option>
                <option>20</option>
                <option>30</option>
            </select>
        </div>
        <div>
        </div>
  </div>
<script>

    // 要素
    const music = new Audio('./musics/music.mp3');
    const play  = document.getElementById('play');
    const stop  = document.getElementById('stop');
    let loop    = document.getElementById('loop');

    play.addEventListener('click', function(){
        const interval = document.getElementById('interval');
        const intervaltime = interval.value * 1000;
        console.log(intervaltime);
        if(loop.checked){
            setInterval(function(){
                music.play();
                console.log(loop.checked);
            },intervaltime)
        } else {
            music.play();
            music.loop = false;
            console.log(loop.checked);
        }
    });
    //停止ボタン
    stop.addEventListener('click', function(){
        music.pause();
        location.reload();
    });

  </script>
</body>
</html>